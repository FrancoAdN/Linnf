{"ast":null,"code":"var _jsxFileName = \"/Users/francodinapoli/Desktop/Linnf/Linnf-Client/src/components/Store.js\";\nimport React, { createContext, useReducer } from 'react';\nimport io from 'socket.io-client';\nexport const SockContext = createContext();\nlet socket;\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'new message':\n      state = action.ms;\n      return state;\n\n    default:\n      break;\n  }\n};\n\nexport default function Store(props) {\n  const [message, dispatch] = useReducer(reducer, {});\n\n  if (!socket) {\n    socket = io('http://192.168.0.9:4000');\n    socket.on('msg', async data => {\n      await dispatch({\n        type: 'new message',\n        msg: data\n      });\n      console.log(await message);\n    });\n  }\n\n  function Connect(id) {\n    socket.emit('init', id);\n  }\n\n  return /*#__PURE__*/React.createElement(SockContext.Provider, {\n    value: {\n      Connect,\n      message\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, props.children);\n}","map":{"version":3,"sources":["/Users/francodinapoli/Desktop/Linnf/Linnf-Client/src/components/Store.js"],"names":["React","createContext","useReducer","io","SockContext","socket","reducer","state","action","type","ms","Store","props","message","dispatch","on","data","msg","console","log","Connect","id","emit","children"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,aAAf,EAA8BC,UAA9B,QAA+C,OAA/C;AACA,OAAOC,EAAP,MAAe,kBAAf;AAEA,OAAO,MAAMC,WAAW,GAAGH,aAAa,EAAjC;AACP,IAAII,MAAJ;;AAEA,MAAMC,OAAO,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC/B,UAAQA,MAAM,CAACC,IAAf;AACI,SAAK,aAAL;AACIF,MAAAA,KAAK,GAAGC,MAAM,CAACE,EAAf;AACA,aAAOH,KAAP;;AACJ;AACI;AALR;AAOH,CARD;;AAUA,eAAe,SAASI,KAAT,CAAeC,KAAf,EAAsB;AAEjC,QAAM,CAACC,OAAD,EAAUC,QAAV,IAAsBZ,UAAU,CAACI,OAAD,EAAU,EAAV,CAAtC;;AAEA,MAAG,CAACD,MAAJ,EAAY;AACRA,IAAAA,MAAM,GAAGF,EAAE,CAAC,yBAAD,CAAX;AACAE,IAAAA,MAAM,CAACU,EAAP,CAAU,KAAV,EAAiB,MAAOC,IAAP,IAAgB;AAC7B,YAAMF,QAAQ,CAAC;AAACL,QAAAA,IAAI,EAAC,aAAN;AAAqBQ,QAAAA,GAAG,EAAED;AAA1B,OAAD,CAAd;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAMN,OAAlB;AACH,KAHD;AAIH;;AAED,WAASO,OAAT,CAAiBC,EAAjB,EAAoB;AAChBhB,IAAAA,MAAM,CAACiB,IAAP,CAAY,MAAZ,EAAoBD,EAApB;AACH;;AAED,sBACI,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAACD,MAAAA,OAAD;AAAUP,MAAAA;AAAV,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKD,KAAK,CAACW,QADX,CADJ;AAKH","sourcesContent":["import React, {createContext, useReducer} from 'react'\nimport io from 'socket.io-client'\n\nexport const SockContext = createContext()\nlet socket;\n\nconst reducer = (state, action) => {\n    switch (action.type) {\n        case 'new message':\n            state = action.ms\n            return state\n        default:\n            break;\n    }\n}\n\nexport default function Store(props) {\n\n    const [message, dispatch] = useReducer(reducer, {})\n\n    if(!socket) {\n        socket = io('http://192.168.0.9:4000')\n        socket.on('msg', async (data) => {\n            await dispatch({type:'new message', msg: data})\n            console.log(await message)\n        })\n    }\n\n    function Connect(id){\n        socket.emit('init', id)\n    }\n\n    return (\n        <SockContext.Provider value={{Connect, message}}>\n            {props.children}\n        </SockContext.Provider>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}