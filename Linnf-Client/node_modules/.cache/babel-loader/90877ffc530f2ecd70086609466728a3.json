{"ast":null,"code":"import { useState, useEffect } from 'react';\nimport gql from 'graphql-tag';\nimport { useQuery } from '@apollo/react-hooks';\nconst LOGIN_QUERY = gql`\n    query Log($email: String!, $pwd: String!) {\n        login(email: $email, pwd: $pwd) {\n            user {\n                id_user\n                username\n            }\n            posts {\n                id_post\n                post_date\n            }\n        }\n    }\n  \n`;\n\nfunction useInputLogin(initE, initP) {\n  const [email, setValueEmail] = useState(initE);\n  const [pwd, setValuePwd] = useState(initP);\n  const [send, setSend] = useEffect(false);\n  const response = null;\n  useEffect(() => {\n    console.log('effect');\n    const {\n      loading,\n      err,\n      data\n    } = useQuery(LOGIN_QUERY, {\n      variables: {\n        email,\n        pwd\n      }\n    });\n    response = data;\n  }, [send]);\n\n  const resetEmail = () => {\n    setValueEmail(initE);\n  };\n\n  const resetPwd = () => {\n    setValuePwd(initP);\n  };\n\n  const bindEmail = {\n    email,\n    onChange: e => {\n      setValueEmail(e.target.value);\n    }\n  };\n  const bindPwd = {\n    pwd,\n    onChange: e => {\n      setValuePwd(e.target.value);\n    }\n  }; //const {loading, err, data} = useQuery(LOGIN_QUERY, {variables: {email, pwd}})\n\n  return [email, pwd, setValueEmail, setValuePwd, resetEmail, resetPwd, bindEmail, bindPwd, response, setSend]; //return [value, bind, reset, data]\n}\n\nexport default useInputLogin;","map":{"version":3,"sources":["/Users/francodinapoli/Desktop/Linnf/Linnf-Client/src/components/login/useInputLogin.js"],"names":["useState","useEffect","gql","useQuery","LOGIN_QUERY","useInputLogin","initE","initP","email","setValueEmail","pwd","setValuePwd","send","setSend","response","console","log","loading","err","data","variables","resetEmail","resetPwd","bindEmail","onChange","e","target","value","bindPwd"],"mappings":"AAAA,SAAQA,QAAR,EAAkBC,SAAlB,QAAkC,OAAlC;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,SAASC,QAAT,QAAyB,qBAAzB;AAEA,MAAMC,WAAW,GAAGF,GAAI;;;;;;;;;;;;;;CAAxB;;AAgBA,SAASG,aAAT,CAAuBC,KAAvB,EAA8BC,KAA9B,EAAqC;AACjC,QAAM,CAACC,KAAD,EAAQC,aAAR,IAAyBT,QAAQ,CAACM,KAAD,CAAvC;AACA,QAAM,CAACI,GAAD,EAAMC,WAAN,IAAqBX,QAAQ,CAACO,KAAD,CAAnC;AACA,QAAM,CAACK,IAAD,EAAOC,OAAP,IAAkBZ,SAAS,CAAC,KAAD,CAAjC;AACA,QAAMa,QAAQ,GAAG,IAAjB;AAEAb,EAAAA,SAAS,CAAC,MAAM;AACZc,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,UAAM;AAACC,MAAAA,OAAD;AAAUC,MAAAA,GAAV;AAAeC,MAAAA;AAAf,QAAuBhB,QAAQ,CAACC,WAAD,EAAc;AAACgB,MAAAA,SAAS,EAAE;AAACZ,QAAAA,KAAD;AAAQE,QAAAA;AAAR;AAAZ,KAAd,CAArC;AACAI,IAAAA,QAAQ,GAAGK,IAAX;AACH,GAJQ,EAIN,CAACP,IAAD,CAJM,CAAT;;AAMA,QAAMS,UAAU,GAAG,MAAM;AACrBZ,IAAAA,aAAa,CAACH,KAAD,CAAb;AACH,GAFD;;AAIA,QAAMgB,QAAQ,GAAG,MAAM;AACnBX,IAAAA,WAAW,CAACJ,KAAD,CAAX;AACH,GAFD;;AAIA,QAAMgB,SAAS,GAAG;AACdf,IAAAA,KADc;AAEdgB,IAAAA,QAAQ,EAAGC,CAAD,IAAO;AACbhB,MAAAA,aAAa,CAACgB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb;AACH;AAJa,GAAlB;AAOA,QAAMC,OAAO,GAAG;AACZlB,IAAAA,GADY;AAEZc,IAAAA,QAAQ,EAAGC,CAAD,IAAO;AACbd,MAAAA,WAAW,CAACc,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX;AACH;AAJW,GAAhB,CA3BiC,CAmCjC;;AAEA,SAAO,CAACnB,KAAD,EAAQE,GAAR,EAAaD,aAAb,EAA4BE,WAA5B,EAAyCU,UAAzC,EAAqDC,QAArD,EAA+DC,SAA/D,EAA0EK,OAA1E,EAAmFd,QAAnF,EAA6FD,OAA7F,CAAP,CArCiC,CAsCjC;AACH;;AAED,eAAeR,aAAf","sourcesContent":["import {useState, useEffect} from 'react'\nimport gql from 'graphql-tag'\nimport { useQuery } from '@apollo/react-hooks'\n\nconst LOGIN_QUERY = gql`\n    query Log($email: String!, $pwd: String!) {\n        login(email: $email, pwd: $pwd) {\n            user {\n                id_user\n                username\n            }\n            posts {\n                id_post\n                post_date\n            }\n        }\n    }\n  \n`\n\nfunction useInputLogin(initE, initP) {\n    const [email, setValueEmail] = useState(initE)\n    const [pwd, setValuePwd] = useState(initP)\n    const [send, setSend] = useEffect(false)\n    const response = null\n\n    useEffect(() => {\n        console.log('effect')\n        const {loading, err, data} = useQuery(LOGIN_QUERY, {variables: {email, pwd}})\n        response = data\n    }, [send])\n\n    const resetEmail = () => {\n        setValueEmail(initE)\n    }\n\n    const resetPwd = () => {\n        setValuePwd(initP)\n    }\n\n    const bindEmail = {\n        email,\n        onChange: (e) => {\n            setValueEmail(e.target.value)\n        }\n    }\n\n    const bindPwd = {\n        pwd,\n        onChange: (e) => {\n            setValuePwd(e.target.value)\n        }\n    }\n    \n\n    //const {loading, err, data} = useQuery(LOGIN_QUERY, {variables: {email, pwd}})\n    \n    return [email, pwd, setValueEmail, setValuePwd, resetEmail, resetPwd, bindEmail, bindPwd, response, setSend]\n    //return [value, bind, reset, data]\n}\n\nexport default useInputLogin\n"]},"metadata":{},"sourceType":"module"}