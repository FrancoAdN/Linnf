{"ast":null,"code":"var _jsxFileName = \"/Users/francodinapoli/Desktop/Linnf/Linnf-Client/src/components/login/Login.js\";\nimport React, { Component } from 'react';\nimport logo from './logo.png';\nimport gql from 'graphql-tag';\nimport { Query } from 'react-apollo';\nimport { useQuery } from '@apollo/react-hooks';\nconst LOGIN_QUERY = gql`\n    query Log($email: String!, $pwd: String!) {\n        login(email: $email, pwd: $pwd) {\n            user {\n                id_user\n                username\n            }\n            posts {\n                id_post\n                post_date\n            }\n        }\n    }\n  \n`;\nexport class login extends Component {\n  constructor(props) {\n    super(props);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const email = document.getElementsByName(\"email\")[0].value;\n    const pwd = document.getElementsByName(\"pwd\")[0].value;\n    const checked = document.getElementsByName(\"remember\")[0].checked;\n    console.log(email, pwd, checked);\n    const {\n      loading,\n      error,\n      data\n    } = useQuery(LOGIN_QUERY, {\n      variables: {\n        email,\n        pwd\n      }\n    });\n    if (loading) return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 29\n      }\n    }, \"Loading...\");\n    if (error) return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 27\n      }\n    }, `Error: ${error.message}`);\n    console.log(data);\n    /*console.log()\n    return(\n        <Query query={LOGIN_QUERY} variables={{email, pwd}}>\n            {\n                ({loading, err, data}) => {\n                    if(loading) console.log(loading)\n                    if(err) console.error(err);\n                    \n                    console.log(data)\n                }\n                \n            }\n        </Query>\n    )*/\n  }\n\n  login(e, p) {\n    const {\n      loading,\n      err,\n      data\n    } = useQuery(LOGIN_QUERY, {\n      variables: {\n        e,\n        p\n      }\n    });\n    if (loading) console.log(\"Loading\");\n    if (err) console.error(err);\n    console.log(data);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-signin bg-dark mx-auto my-auto text-light\",\n      style: {\n        width: '450px',\n        borderRadius: '25px'\n      },\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"mb-4\",\n      src: logo,\n      alt: \"\",\n      width: \"250\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"h3 mb-3 font-weight-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    }, \"Please sign in\"), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"inputEmail\",\n      className: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }, \"Email address\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      id: \"inputEmail\",\n      className: \"form-control\",\n      placeholder: \"Email address\",\n      name: \"email\",\n      style: {\n        width: '430px',\n        margin: '10px'\n      },\n      required: true,\n      autoFocus: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"inputPassword\",\n      className: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      id: \"inputPassword\",\n      className: \"form-control\",\n      placeholder: \"Password\",\n      name: \"pwd\",\n      style: {\n        width: '430px',\n        margin: '10px'\n      },\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"checkbox mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      value: \"remember-me\",\n      name: \"remember\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 25\n      }\n    }), \" Remember me\")), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-lg btn-info btn-block\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    }, \"Sign in\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"mt-5 mb-3 text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }, \"\\xA9 2017-2019\")));\n  }\n\n}\nexport default login;","map":{"version":3,"sources":["/Users/francodinapoli/Desktop/Linnf/Linnf-Client/src/components/login/Login.js"],"names":["React","Component","logo","gql","Query","useQuery","LOGIN_QUERY","login","constructor","props","handleSubmit","bind","e","preventDefault","email","document","getElementsByName","value","pwd","checked","console","log","loading","error","data","variables","message","p","err","render","width","borderRadius","margin"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport logo from './logo.png'\nimport gql from 'graphql-tag'\nimport { Query } from 'react-apollo'\nimport { useQuery } from '@apollo/react-hooks'\n\n\nconst LOGIN_QUERY = gql`\n    query Log($email: String!, $pwd: String!) {\n        login(email: $email, pwd: $pwd) {\n            user {\n                id_user\n                username\n            }\n            posts {\n                id_post\n                post_date\n            }\n        }\n    }\n  \n`\n\nexport class login extends Component {\n    constructor(props){\n        super(props);\n        this.handleSubmit = this.handleSubmit.bind(this)\n        \n    }\n\n    handleSubmit(e){\n        e.preventDefault();\n        const email = document.getElementsByName(\"email\")[0].value\n        const pwd = document.getElementsByName(\"pwd\")[0].value\n        const checked = document.getElementsByName(\"remember\")[0].checked\n        console.log(email, pwd, checked)\n        const { loading, error, data } = useQuery(LOGIN_QUERY, {\n            variables: { email, pwd }\n        });\n\n        if (loading) return <p>Loading...</p>;\n        if (error) return <p>{`Error: ${error.message}`}</p>;\n\n        console.log(data);\n        /*console.log()\n        return(\n            <Query query={LOGIN_QUERY} variables={{email, pwd}}>\n                {\n                    ({loading, err, data}) => {\n                        if(loading) console.log(loading)\n                        if(err) console.error(err);\n                        \n                        console.log(data)\n                    }\n                    \n                }\n            </Query>\n        )*/\n\n\n\n    }\n\n    login(e, p){\n        const {loading, err, data } = useQuery(LOGIN_QUERY, {\n            variables : { e, p}\n        })\n\n        if (loading) console.log(\"Loading\")\n        if (err) console.error(err)\n\n        console.log(data)\n        \n    }\n\n    render() {\n        return (\n            <div className=\"text-center\">\n                <form className=\"form-signin bg-dark mx-auto my-auto text-light\" style={{width: '450px', borderRadius: '25px'}} onSubmit={this.handleSubmit}>\n                    <img className=\"mb-4\" src={logo} alt=\"\" width=\"250\"/>\n                    <h1 className=\"h3 mb-3 font-weight-normal\">Please sign in</h1>\n                    <label htmlFor=\"inputEmail\" className=\"sr-only\">Email address</label>\n                    <input type=\"email\" id=\"inputEmail\" className=\"form-control\" placeholder=\"Email address\" name=\"email\" style={{width:'430px', margin: '10px'}} required autoFocus/>\n                    <label htmlFor=\"inputPassword\" className=\"sr-only\">Password</label>\n                    <input type=\"password\" id=\"inputPassword\" className=\"form-control\" placeholder=\"Password\" name=\"pwd\" style={{width:'430px', margin: '10px'}} required />\n                    <div className=\"checkbox mb-3\">\n                        <label>\n                        <input type=\"checkbox\" value=\"remember-me\" name=\"remember\"/> Remember me\n                        </label>\n                    </div>\n                    <button className=\"btn btn-lg btn-info btn-block\" type=\"submit\">Sign in</button>\n                    <p className=\"mt-5 mb-3 text-muted\">&copy; 2017-2019</p>\n                </form>\n            </div>\n            \n        )\n    }\n}\n\nexport default login\n"]},"metadata":{},"sourceType":"module"}